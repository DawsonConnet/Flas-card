{% extends "base.html" %}

{% block content %}
{% if card %}
<header>
<h2>Edit Card</h2>
</header>
<form action="/cards/{{ card.id }}/edit" method="post">
    Front: <input type="text" name="front" value={{card.front}}><br>
    Back: <input type="text" name="back" value={{card.back}}><br>
    Set: <select name="set_id" >
        <option value="{}"></option>
        {% for set in sets %}     
            <option name="{{set.name}}" value="{{set.id}}" selected>{{set.name}}</option>
        {% endfor %}
    </select>
    <input type="submit" value="Submit">
</form>
<form action="/cards/{{card.id}}/delete" method="post">
                
<button type="submit" onclick="return confirm('Are you sure you want to delete this card?');">
    Delete Card
</button>
</form>
{% else %}
<header>
<h2>Add New Card</h2>
</header>
<form action="/cards/add" method="post">
    Front: <input type="text" name="front"><br>
    Back: <input type="text" name="back"><br>
    Set: <select name="set_id">
            <option name="" value=""></option>
        {% for set in sets %}     
            {% if set.id == set_id %}                   
                <option selected="selected" name="{{set.name}}" value="{{set.id}}" >{{set.name}}</option>
            {% else %}
                <option name="{{set.name}}" value="{{set.id}}">{{set.name}}</option>
            {% endif %}
        {% endfor %}
    </select>
    <input type="submit" value="Submit">
</form>
{% endif %}
<div  class="content">
<a href='/sets/'>Cancel</a>
</div>
{% endblock %}